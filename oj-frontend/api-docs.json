{"swagger":"2.0","info":{"description":"提供题目管理、用户管理等功能的 API","version":"1.0","title":"OJ 后端 API"},"host":"172.22.232.42:8121","tags":[{"name":"question-controller","description":"Question Controller"},{"name":"question-submit-controller","description":"Question Submit Controller"},{"name":"user-controller","description":"User Controller"}],"paths":{"/api/question/add":{"post":{"tags":["question-controller"],"summary":"addQuestion","operationId":"addQuestionUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"questionAddRequest","description":"questionAddRequest","required":true,"schema":{"$ref":"#/definitions/QuestionAddRequest","originalRef":"QuestionAddRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse«long»","originalRef":"BaseResponse«long»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/question/delete":{"post":{"tags":["question-controller"],"summary":"deleteQuestion","operationId":"deleteQuestionUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"query","description":"id","required":false,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse«boolean»","originalRef":"BaseResponse«boolean»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/question/detail/{id}":{"get":{"tags":["question-controller"],"summary":"getQuestionById","operationId":"getQuestionByIdUsingGET","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse«QuestionDetailSafeVo»","originalRef":"BaseResponse«QuestionDetailSafeVo»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/question/list":{"get":{"tags":["question-controller"],"summary":"listQuestion","operationId":"listQuestionUsingGET","produces":["*/*"],"parameters":[{"name":"name","in":"query","description":"name","required":false,"type":"string"},{"name":"page","in":"query","description":"page","required":false,"type":"integer","default":1,"format":"int32"},{"name":"size","in":"query","description":"size","required":false,"type":"integer","default":10,"format":"int32"},{"name":"tags","in":"query","description":"tags","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse«QuestionListSafeVo»","originalRef":"BaseResponse«QuestionListSafeVo»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/question/parseWord":{"post":{"tags":["question-controller"],"summary":"parseWordDocument","operationId":"parseWordDocumentUsingPOST","consumes":["multipart/form-data"],"produces":["*/*"],"parameters":[{"name":"file","in":"formData","required":false,"type":"file"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse«string»","originalRef":"BaseResponse«string»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/question/submit/":{"post":{"tags":["question-submit-controller"],"summary":"doQuestionSubmit","operationId":"doQuestionSubmitUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"questionSubmitAddRequest","description":"questionSubmitAddRequest","required":true,"schema":{"$ref":"#/definitions/QuestionSubmitAddRequest","originalRef":"QuestionSubmitAddRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse«QuestionSubmitVo»","originalRef":"BaseResponse«QuestionSubmitVo»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/question/submit/getCode":{"get":{"tags":["question-submit-controller"],"summary":"getCode","operationId":"getCodeUsingGET","produces":["*/*"],"parameters":[{"name":"questionId","in":"query","description":"questionId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse«CodeVo»","originalRef":"BaseResponse«CodeVo»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/question/submit/record/{id}":{"get":{"tags":["question-submit-controller"],"summary":"getRecord","operationId":"getRecordUsingGET","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse«SubmitRecordDetail»","originalRef":"BaseResponse«SubmitRecordDetail»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/question/submit/submitRecord":{"post":{"tags":["question-submit-controller"],"summary":"submitRecords","operationId":"submitRecordsUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"queryParmRequest","description":"queryParmRequest","required":true,"schema":{"$ref":"#/definitions/QueryParmRequest","originalRef":"QueryParmRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse«SubmitRecodWithPageVo»","originalRef":"BaseResponse«SubmitRecodWithPageVo»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/question/update":{"post":{"tags":["question-controller"],"summary":"updateQuestion","operationId":"updateQuestionUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"questionupdateRequest","description":"questionupdateRequest","required":true,"schema":{"$ref":"#/definitions/QuestionUpdateRequest","originalRef":"QuestionUpdateRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse«long»","originalRef":"BaseResponse«long»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/user/confirmChangeAvatar":{"post":{"tags":["user-controller"],"summary":"confirmChangeAvatar","operationId":"confirmChangeAvatarUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"userConfirmChangeAvatar","description":"userConfirmChangeAvatar","required":true,"schema":{"$ref":"#/definitions/UserConfirmChangeAvatar","originalRef":"UserConfirmChangeAvatar"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse","originalRef":"BaseResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/user/delete":{"post":{"tags":["user-controller"],"summary":"deleteUser","operationId":"deleteUserUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"userDeleteRequest","description":"userDeleteRequest","required":true,"schema":{"$ref":"#/definitions/UserUpdateRequest","originalRef":"UserUpdateRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse«string»","originalRef":"BaseResponse«string»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/user/get/list":{"post":{"tags":["user-controller"],"summary":"getAllUser","operationId":"getAllUserUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"userListRequest","description":"userListRequest","required":true,"schema":{"$ref":"#/definitions/UserListRequest","originalRef":"UserListRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse«List«ListUserVO»»","originalRef":"BaseResponse«List«ListUserVO»»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/user/get/login":{"get":{"tags":["user-controller"],"summary":"getLoginUser","operationId":"getLoginUserUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse«LoginUserVO»","originalRef":"BaseResponse«LoginUserVO»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/user/hello":{"get":{"tags":["user-controller"],"summary":"hello","operationId":"helloUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/user/login":{"post":{"tags":["user-controller"],"summary":"userLogin","operationId":"userLoginUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"userLoginRequest","description":"userLoginRequest","required":true,"schema":{"$ref":"#/definitions/UserLoginRequest","originalRef":"UserLoginRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse«LoginUserVO»","originalRef":"BaseResponse«LoginUserVO»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/user/register":{"post":{"tags":["user-controller"],"summary":"userRegister","operationId":"userRegisterUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"userRegisterRequest","description":"userRegisterRequest","required":true,"schema":{"$ref":"#/definitions/UserRegisterRequest","originalRef":"UserRegisterRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse«long»","originalRef":"BaseResponse«long»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/user/update":{"post":{"tags":["user-controller"],"summary":"updateUser","operationId":"updateUserUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"userListRequest","description":"userListRequest","required":true,"schema":{"$ref":"#/definitions/UserUpdateRequest","originalRef":"UserUpdateRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse«string»","originalRef":"BaseResponse«string»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/api/user/uploadAvatar":{"post":{"tags":["user-controller"],"summary":"uploadAvatar","operationId":"uploadAvatarUsingPOST","consumes":["multipart/form-data"],"produces":["*/*"],"parameters":[{"name":"file","in":"formData","required":false,"type":"file"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResponse«string»","originalRef":"BaseResponse«string»"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}}},"definitions":{"BaseResponse":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"object"},"message":{"type":"string"}},"title":"BaseResponse"},"BaseResponse«CodeVo»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/CodeVo","originalRef":"CodeVo"},"message":{"type":"string"}},"title":"BaseResponse«CodeVo»"},"BaseResponse«List«ListUserVO»»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"array","items":{"$ref":"#/definitions/ListUserVO","originalRef":"ListUserVO"}},"message":{"type":"string"}},"title":"BaseResponse«List«ListUserVO»»"},"BaseResponse«LoginUserVO»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/LoginUserVO","originalRef":"LoginUserVO"},"message":{"type":"string"}},"title":"BaseResponse«LoginUserVO»"},"BaseResponse«QuestionDetailSafeVo»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/QuestionDetailSafeVo","originalRef":"QuestionDetailSafeVo"},"message":{"type":"string"}},"title":"BaseResponse«QuestionDetailSafeVo»"},"BaseResponse«QuestionListSafeVo»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/QuestionListSafeVo","originalRef":"QuestionListSafeVo"},"message":{"type":"string"}},"title":"BaseResponse«QuestionListSafeVo»"},"BaseResponse«QuestionSubmitVo»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/QuestionSubmitVo","originalRef":"QuestionSubmitVo"},"message":{"type":"string"}},"title":"BaseResponse«QuestionSubmitVo»"},"BaseResponse«SubmitRecodWithPageVo»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/SubmitRecodWithPageVo","originalRef":"SubmitRecodWithPageVo"},"message":{"type":"string"}},"title":"BaseResponse«SubmitRecodWithPageVo»"},"BaseResponse«SubmitRecordDetail»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/definitions/SubmitRecordDetail","originalRef":"SubmitRecordDetail"},"message":{"type":"string"}},"title":"BaseResponse«SubmitRecordDetail»"},"BaseResponse«boolean»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"boolean"},"message":{"type":"string"}},"title":"BaseResponse«boolean»"},"BaseResponse«long»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"integer","format":"int64"},"message":{"type":"string"}},"title":"BaseResponse«long»"},"BaseResponse«string»":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"string"},"message":{"type":"string"}},"title":"BaseResponse«string»"},"CodeVo":{"type":"object","properties":{"code":{"type":"string"},"language":{"type":"string"}},"title":"CodeVo"},"JudgeCase":{"type":"object","properties":{"input":{"type":"string"},"output":{"type":"string"}},"title":"JudgeCase"},"JudgeConfig":{"type":"object","properties":{"memoryLimit":{"type":"integer","format":"int64"},"stackLimit":{"type":"integer","format":"int64"},"timeLimit":{"type":"integer","format":"int64"}},"title":"JudgeConfig"},"JudgeInfo":{"type":"object","properties":{"memory":{"type":"integer","format":"int64"},"message":{"type":"string"},"time":{"type":"integer","format":"int64"}},"title":"JudgeInfo"},"JudgeMessage":{"type":"object","properties":{"memory":{"type":"integer","format":"int64"},"status":{"type":"string"},"statusSingle":{"type":"string"},"time":{"type":"integer","format":"int64"}},"title":"JudgeMessage"},"ListUserVO":{"type":"object","properties":{"createTime":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int64"},"updateTime":{"type":"string","format":"date-time"},"userAccount":{"type":"string"},"userAvatar":{"type":"string"},"userName":{"type":"string"},"userProfile":{"type":"string"},"userRole":{"type":"string"}},"title":"ListUserVO"},"LoginUserVO":{"type":"object","properties":{"createTime":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int64"},"updateTime":{"type":"string","format":"date-time"},"userAvatar":{"type":"string"},"userName":{"type":"string"},"userProfile":{"type":"string"},"userRole":{"type":"string"}},"title":"LoginUserVO"},"QueryParmRequest":{"type":"object","properties":{"language":{"type":"string"},"pageNo":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"questionTitle":{"type":"string"},"submitStatus":{"type":"integer","format":"int32"},"userName":{"type":"string"}},"title":"QueryParmRequest"},"QuestionAddRequest":{"type":"object","properties":{"answer":{"type":"string"},"content":{"type":"string"},"judgeCase":{"type":"array","items":{"$ref":"#/definitions/JudgeCase","originalRef":"JudgeCase"}},"judgeConfig":{"$ref":"#/definitions/JudgeConfig","originalRef":"JudgeConfig"},"tags":{"type":"array","items":{"type":"string"}},"title":{"type":"string"}},"title":"QuestionAddRequest"},"QuestionDetailSafeVo":{"type":"object","properties":{"acceptedNum":{"type":"integer","format":"int32"},"answer":{"type":"string"},"content":{"type":"string"},"id":{"type":"integer","format":"int64"},"judgeConfig":{"$ref":"#/definitions/JudgeConfig","originalRef":"JudgeConfig"},"submitNum":{"type":"integer","format":"int32"},"tags":{"type":"array","items":{"type":"string"}},"title":{"type":"string"}},"title":"QuestionDetailSafeVo"},"QuestionListSafeVo":{"type":"object","properties":{"currentPage":{"type":"integer","format":"int64"},"pageSize":{"type":"integer","format":"int64"},"questions":{"type":"array","items":{"$ref":"#/definitions/QuestionSafeVo","originalRef":"QuestionSafeVo"}},"totalPages":{"type":"integer","format":"int64"},"totalRecords":{"type":"integer","format":"int64"}},"title":"QuestionListSafeVo"},"QuestionSafeVo":{"type":"object","properties":{"acceptedNum":{"type":"integer","format":"int32"},"coverUrl":{"type":"string"},"id":{"type":"integer","format":"int64"},"submitNum":{"type":"integer","format":"int32"},"tags":{"type":"string"},"title":{"type":"string"}},"title":"QuestionSafeVo"},"QuestionSubmitAddRequest":{"type":"object","properties":{"code":{"type":"string"},"language":{"type":"string"},"questionId":{"type":"integer","format":"int64"}},"title":"QuestionSubmitAddRequest"},"QuestionSubmitVo":{"type":"object","properties":{"code":{"type":"string"},"createTime":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int64"},"judgeInfo":{"$ref":"#/definitions/JudgeInfo","originalRef":"JudgeInfo"},"language":{"type":"string"},"loginUserVO":{"$ref":"#/definitions/LoginUserVO","originalRef":"LoginUserVO"},"questionDetailSafeVo":{"$ref":"#/definitions/QuestionDetailSafeVo","originalRef":"QuestionDetailSafeVo"},"questionId":{"type":"integer","format":"int64"},"status":{"type":"integer","format":"int32"},"updateTime":{"type":"string","format":"date-time"},"userId":{"type":"integer","format":"int64"}},"title":"QuestionSubmitVo"},"QuestionUpdateRequest":{"type":"object","properties":{"answer":{"type":"string"},"content":{"type":"string"},"id":{"type":"integer","format":"int64"},"judgeCase":{"type":"array","items":{"$ref":"#/definitions/JudgeCase","originalRef":"JudgeCase"}},"judgeConfig":{"$ref":"#/definitions/JudgeConfig","originalRef":"JudgeConfig"},"tags":{"type":"array","items":{"type":"string"}},"title":{"type":"string"}},"title":"QuestionUpdateRequest"},"SubmitRecodWithPageVo":{"type":"object","properties":{"pageNo":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"submitRecordSimples":{"type":"array","items":{"$ref":"#/definitions/SubmitRecordSimple","originalRef":"SubmitRecordSimple"}},"total":{"type":"integer","format":"int64"}},"title":"SubmitRecodWithPageVo"},"SubmitRecordDetail":{"type":"object","properties":{"code":{"type":"string"},"createTime":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int64"},"judgeInfo":{"$ref":"#/definitions/JudgeInfo","originalRef":"JudgeInfo"},"judgeMessages":{"type":"array","items":{"$ref":"#/definitions/JudgeMessage","originalRef":"JudgeMessage"}},"language":{"type":"string"},"message":{"type":"string"},"questionId":{"type":"integer","format":"int64"},"questionTitle":{"type":"string"},"status":{"type":"integer","format":"int32"},"userAvatar":{"type":"string"},"userId":{"type":"integer","format":"int64"},"userName":{"type":"string"}},"title":"SubmitRecordDetail"},"SubmitRecordSimple":{"type":"object","properties":{"code":{"type":"string"},"codeLength":{"type":"string"},"judgeInfo":{"type":"string"},"judgeMessages":{"type":"string"},"language":{"type":"string"},"memoryUse":{"type":"integer","format":"int64"},"message":{"type":"string"},"questionId":{"type":"integer","format":"int64"},"questionTitle":{"type":"string"},"status":{"type":"integer","format":"int32"},"submitId":{"type":"integer","format":"int64"},"submitTime":{"type":"string","format":"date-time"},"timeUse":{"type":"integer","format":"int64"},"userAccount":{"type":"string"},"userAvatar":{"type":"string"},"userId":{"type":"string"},"userName":{"type":"string"}},"title":"SubmitRecordSimple"},"UserConfirmChangeAvatar":{"type":"object","properties":{"url":{"type":"string"},"yesOrNo":{"type":"boolean"}},"title":"UserConfirmChangeAvatar"},"UserListRequest":{"type":"object","properties":{"userAccount":{"type":"string"},"userName":{"type":"string"},"userRole":{"type":"string"}},"title":"UserListRequest"},"UserLoginRequest":{"type":"object","properties":{"userAccount":{"type":"string"},"userPassword":{"type":"string"}},"title":"UserLoginRequest"},"UserRegisterRequest":{"type":"object","properties":{"checkPassword":{"type":"string"},"userAccount":{"type":"string"},"userPassword":{"type":"string"},"userRole":{"type":"string"}},"title":"UserRegisterRequest"},"UserUpdateRequest":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userAccount":{"type":"string"},"userRole":{"type":"string"}},"title":"UserUpdateRequest"}}}